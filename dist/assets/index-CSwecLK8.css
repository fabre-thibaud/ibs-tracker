.calendar-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#0006;z-index:200;display:flex;align-items:center;justify-content:center;animation:fadeIn .15s ease;padding:16px}.calendar{background:var(--bg-card);border-radius:var(--radius);box-shadow:var(--shadow-lg);width:100%;max-width:340px;padding:16px}.calendar-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}.calendar-title{font-weight:600;font-size:1rem}.calendar-nav-btn{width:36px;height:36px;display:flex;align-items:center;justify-content:center;border-radius:var(--radius-sm);color:var(--text-secondary)}.calendar-nav-btn:active{background:var(--bg-input)}.calendar-weekdays{display:grid;grid-template-columns:repeat(7,1fr);margin-bottom:4px}.calendar-weekday{text-align:center;font-size:.7rem;font-weight:600;color:var(--text-muted);padding:4px 0}.calendar-days{display:grid;grid-template-columns:repeat(7,1fr);gap:2px}.calendar-day{aspect-ratio:1;display:flex;align-items:center;justify-content:center;font-size:.85rem;border-radius:50%;transition:background .1s}.calendar-day:active{background:var(--bg-input)}.calendar-day.other-month{color:var(--text-muted)}.calendar-day.today{font-weight:700;color:var(--meal-color)}.calendar-day.selected{background:var(--meal-color);color:#fff;font-weight:600}.calendar-day.has-data{position:relative}.calendar-day.has-data:after{content:"";position:absolute;bottom:4px;width:4px;height:4px;border-radius:50%;background:var(--meal-color)}.calendar-day.selected.has-data:after{background:#fff}.header{position:fixed;top:0;left:0;right:0;height:calc(var(--header-height) + var(--sat));padding-top:var(--sat);background:var(--bg-card);border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;padding-left:8px;padding-right:8px;z-index:100;box-shadow:var(--shadow)}.header-nav{display:flex;align-items:center;gap:2px}.header-nav-btn{width:var(--min-touch);height:var(--min-touch);display:flex;align-items:center;justify-content:center;border-radius:var(--radius-sm);color:var(--text-secondary);transition:background .15s}.header-nav-btn:active{background:var(--bg-input)}.header-date{font-size:1.1rem;font-weight:600;text-align:center;min-width:160px}.header-actions{display:flex;align-items:center;gap:2px}.header-today-btn{font-size:.75rem;font-weight:600;padding:4px 10px;border-radius:20px;background:var(--meal-color);color:#fff;transition:opacity .15s}.header-today-btn:active{opacity:.8}.header-today-btn.hidden{visibility:hidden}.tabbar{position:fixed;bottom:0;left:0;right:0;height:calc(var(--tabbar-height) + var(--sab));padding-bottom:var(--sab);background:var(--bg-card);border-top:1px solid var(--border);display:flex;z-index:100;box-shadow:0 -1px 3px #0000000f}.tabbar-tab{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:2px;color:var(--text-muted);font-size:.7rem;font-weight:500;transition:color .15s;min-height:var(--min-touch)}.tabbar-tab.active{color:var(--meal-color)}.tabbar-tab svg{width:22px;height:22px}.fab-container{position:fixed;bottom:calc(var(--tabbar-height) + var(--sab) + 16px);right:16px;z-index:90}.fab-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;background:#0000004d;z-index:89;animation:fadeIn .15s ease}.fab-button{width:56px;height:56px;border-radius:50%;background:var(--meal-color);color:#fff;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #3b82f666;transition:transform .2s ease,background .15s}.fab-button:active{transform:scale(.95)}.fab-button.open{background:var(--text-secondary);transform:rotate(45deg)}.fab-menu{position:absolute;bottom:68px;right:0;display:flex;flex-direction:column;gap:10px;animation:slideUp .2s ease}.fab-menu-item{display:flex;align-items:center;gap:10px;flex-direction:row-reverse}.fab-menu-btn{width:46px;height:46px;border-radius:50%;color:#fff;display:flex;align-items:center;justify-content:center;box-shadow:var(--shadow-lg);transition:transform .15s}.fab-menu-btn:active{transform:scale(.92)}.fab-menu-btn--meal{background:var(--meal-color)}.fab-menu-btn--pain{background:var(--pain-color)}.fab-menu-btn--bowel{background:var(--bowel-color)}.fab-menu-btn--summary{background:var(--summary-color)}.fab-menu-label{background:var(--bg-card);color:var(--text);font-size:.85rem;font-weight:500;padding:6px 12px;border-radius:8px;box-shadow:var(--shadow);white-space:nowrap}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes slideUp{0%{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}.day-view{display:flex;flex-direction:column;gap:10px}.entry-card{background:var(--bg-card);border-radius:var(--radius);box-shadow:var(--shadow);padding:14px 16px;border-left:4px solid var(--border);cursor:pointer;transition:transform .1s;-webkit-user-select:none;user-select:none}.entry-card:active{transform:scale(.99)}.entry-card--meal{border-left-color:var(--meal-color)}.entry-card--pain{border-left-color:var(--pain-color)}.entry-card--bowel{border-left-color:var(--bowel-color)}.entry-card--summary{border-left-color:var(--summary-color)}.entry-card-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px}.entry-card-type{font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.04em}.entry-card--meal .entry-card-type{color:var(--meal-color)}.entry-card--pain .entry-card-type{color:var(--pain-color)}.entry-card--bowel .entry-card-type{color:var(--bowel-color)}.entry-card--summary .entry-card-type{color:var(--summary-color)}.entry-card-time{font-size:.8rem;color:var(--text-secondary)}.entry-card-body{font-size:.9rem;line-height:1.5;color:var(--text)}.entry-card-detail{color:var(--text-secondary);font-size:.82rem}.entry-card-tags{display:flex;flex-wrap:wrap;gap:6px;margin-top:6px}.entry-card-tag{font-size:.72rem;font-weight:500;padding:2px 8px;border-radius:10px;background:var(--bg-input);color:var(--text-secondary)}.entry-card-tag--alert{background:var(--concern-bg);color:var(--concern)}.entry-card-tag--good{background:var(--good-bg);color:var(--good)}.summary-card{background:var(--bg-card);border-radius:var(--radius);box-shadow:var(--shadow);padding:14px 16px;border-left:4px solid var(--summary-color);cursor:pointer}.summary-card:active{transform:scale(.99)}.summary-card-header{font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.04em;color:var(--summary-color);margin-bottom:8px}.summary-metrics{display:grid;grid-template-columns:1fr 1fr;gap:8px}.summary-metric{display:flex;align-items:center;justify-content:space-between;font-size:.85rem}.summary-metric-label{color:var(--text-secondary)}.summary-metric-value{font-weight:600}.summary-notes{margin-top:8px;font-size:.85rem;color:var(--text-secondary);font-style:italic}.empty-state{text-align:center;padding:60px 20px;color:var(--text-muted)}.empty-state-icon{font-size:3rem;margin-bottom:12px;opacity:.5}.empty-state-title{font-size:1.1rem;font-weight:600;color:var(--text-secondary);margin-bottom:4px}.empty-state-desc{font-size:.9rem}.severity-badge{display:inline-block;font-size:.75rem;font-weight:700;padding:1px 7px;border-radius:10px;color:#fff}.severity-low{background:var(--good)}.severity-med{background:var(--caution)}.severity-high{background:var(--concern)}.week-view{display:flex;flex-direction:column;gap:12px}.week-nav{display:flex;align-items:center;justify-content:space-between;background:var(--bg-card);border-radius:var(--radius);padding:10px 12px;box-shadow:var(--shadow)}.week-nav-btn{width:36px;height:36px;display:flex;align-items:center;justify-content:center;border-radius:var(--radius-sm);color:var(--text-secondary)}.week-nav-btn:active{background:var(--bg-input)}.week-nav-title{font-weight:600;font-size:.95rem}.week-section{background:var(--bg-card);border-radius:var(--radius);padding:16px;box-shadow:var(--shadow)}.week-section-title{font-size:.8rem;font-weight:700;text-transform:uppercase;letter-spacing:.04em;color:var(--text-secondary);margin-bottom:10px}.week-stat{display:flex;justify-content:space-between;padding:4px 0;font-size:.9rem}.week-stat-label{color:var(--text-secondary)}.week-stat-value{font-weight:600}.week-list{font-size:.9rem;color:var(--text);line-height:1.7}.week-list-item{padding-left:12px;position:relative}.week-list-item:before{content:"â€¢";position:absolute;left:0;color:var(--text-muted)}.week-empty{text-align:center;padding:40px 20px;color:var(--text-muted);font-size:.9rem}.export-view{display:flex;flex-direction:column;gap:12px}.export-section{background:var(--bg-card);border-radius:var(--radius);padding:16px;box-shadow:var(--shadow)}.export-section-title{font-size:.8rem;font-weight:700;text-transform:uppercase;letter-spacing:.04em;color:var(--text-secondary);margin-bottom:12px}.export-buttons{display:flex;flex-direction:column;gap:8px}.export-btn{height:var(--button-height);border-radius:var(--radius-sm);font-weight:600;font-size:.9rem;display:flex;align-items:center;justify-content:center;gap:8px;transition:opacity .15s;border:1px solid var(--border);background:var(--bg-input);color:var(--text)}.export-btn:active{opacity:.8}.export-btn--primary{background:var(--meal-color);color:#fff;border-color:var(--meal-color)}.export-preview{background:var(--bg-input);border-radius:var(--radius-sm);padding:14px;font-family:SF Mono,Fira Code,Consolas,monospace;font-size:.78rem;line-height:1.6;white-space:pre-wrap;word-break:break-word;color:var(--text);max-height:400px;overflow-y:auto;border:1px solid var(--border)}.export-toast{position:fixed;bottom:calc(var(--tabbar-height) + var(--sab) + 20px);left:50%;transform:translate(-50%);background:var(--text);color:var(--bg);padding:10px 20px;border-radius:20px;font-size:.85rem;font-weight:500;z-index:400;animation:toastIn .2s ease,toastOut .2s ease 1.8s forwards;pointer-events:none}@keyframes toastIn{0%{opacity:0;transform:translate(-50%) translateY(10px)}to{opacity:1;transform:translate(-50%) translateY(0)}}@keyframes toastOut{0%{opacity:1}to{opacity:0}}.modal-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#0006;z-index:300;animation:fadeIn .15s ease}.modal{position:fixed;bottom:0;left:0;right:0;top:0;background:var(--bg);z-index:301;display:flex;flex-direction:column;animation:slideUpModal .25s ease}.modal-header{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;padding-top:calc(var(--sat) + 12px);border-bottom:1px solid var(--border);background:var(--bg-card);flex-shrink:0}.modal-title{font-size:1.1rem;font-weight:600;display:flex;align-items:center;gap:8px}.modal-title-dot{width:10px;height:10px;border-radius:50%}.modal-title-dot--meal{background:var(--meal-color)}.modal-title-dot--pain{background:var(--pain-color)}.modal-title-dot--bowel{background:var(--bowel-color)}.modal-title-dot--summary{background:var(--summary-color)}.modal-close{width:var(--min-touch);height:var(--min-touch);display:flex;align-items:center;justify-content:center;border-radius:var(--radius-sm);color:var(--text-secondary)}.modal-close:active{background:var(--bg-input)}.modal-body{flex:1;overflow-y:auto;padding:16px}.modal-footer{padding:12px 16px;padding-bottom:calc(var(--sab) + 12px);border-top:1px solid var(--border);background:var(--bg-card);display:flex;gap:10px;flex-shrink:0}.modal-save-btn{flex:1;height:var(--button-height);border-radius:var(--radius-sm);font-weight:600;font-size:1rem;color:#fff;transition:opacity .15s}.modal-save-btn:active{opacity:.85}.modal-save-btn--meal{background:var(--meal-color)}.modal-save-btn--pain{background:var(--pain-color)}.modal-save-btn--bowel{background:var(--bowel-color)}.modal-save-btn--summary{background:var(--summary-color)}.modal-delete-btn{height:var(--button-height);padding:0 20px;border-radius:var(--radius-sm);font-weight:600;font-size:.9rem;color:var(--concern);border:1px solid var(--concern);transition:background .15s}.modal-delete-btn:active{background:var(--concern-bg)}@keyframes slideUpModal{0%{transform:translateY(100%)}to{transform:translateY(0)}}.settings-dropdown{position:fixed;top:0;right:0;bottom:0;left:0;z-index:150}.settings-menu{position:fixed;top:calc(var(--header-height) + var(--sat) + 4px);right:8px;background:var(--bg-card);border-radius:var(--radius-sm);box-shadow:var(--shadow-lg);border:1px solid var(--border);overflow:hidden;animation:fadeIn .1s ease;min-width:180px}.settings-item{display:block;width:100%;text-align:left;padding:12px 16px;font-size:.9rem;transition:background .1s}.settings-item:active{background:var(--bg-input)}.settings-item--danger{color:var(--concern)}.field{margin-bottom:20px}.field-label{display:block;font-size:.8rem;font-weight:600;color:var(--text-secondary);margin-bottom:6px;text-transform:uppercase;letter-spacing:.03em}.time-input{width:100%;height:var(--button-height);padding:0 14px;border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--bg-input);font-size:1rem;color:var(--text);outline:none;transition:border-color .15s}.time-input:focus{border-color:var(--border-focus)}.option-buttons{display:flex;flex-wrap:wrap;gap:8px}.option-btn{padding:8px 16px;border:1px solid var(--border);border-radius:20px;font-size:.85rem;font-weight:500;background:var(--bg-input);color:var(--text);transition:all .15s;min-height:var(--min-touch);display:flex;align-items:center}.option-btn.selected{border-color:var(--border-focus);background:var(--meal-color);color:#fff}.option-btn:active{transform:scale(.97)}.scale-selector{display:flex;gap:4px}.scale-btn{flex:1;aspect-ratio:1;max-width:44px;border-radius:var(--radius-sm);font-size:.9rem;font-weight:600;border:1px solid var(--border);background:var(--bg-input);color:var(--text);display:flex;align-items:center;justify-content:center;transition:all .15s;min-height:var(--min-touch)}.scale-btn.selected{color:#fff;border-color:transparent}.scale-btn.selected.severity-low{background:var(--good)}.scale-btn.selected.severity-med{background:var(--caution)}.scale-btn.selected.severity-high{background:var(--concern)}.text-area{width:100%;min-height:80px;padding:12px 14px;border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--bg-input);font-size:.95rem;color:var(--text);resize:vertical;outline:none;transition:border-color .15s;line-height:1.5}.text-area:focus{border-color:var(--border-focus)}.toggle-group{display:flex;gap:8px}.toggle-btn{flex:1;height:var(--min-touch);border:1px solid var(--border);border-radius:var(--radius-sm);font-size:.9rem;font-weight:500;background:var(--bg-input);color:var(--text);transition:all .15s}.toggle-btn.selected-yes{background:var(--concern);border-color:var(--concern);color:#fff}.toggle-btn.selected-no{background:var(--good);border-color:var(--good);color:#fff}.bristol-buttons{display:flex;flex-direction:column;gap:6px}.bristol-btn{display:flex;align-items:center;gap:12px;padding:10px 14px;border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--bg-input);text-align:left;transition:all .15s;min-height:var(--min-touch)}.bristol-btn.selected{border-color:var(--bowel-color);background:var(--bowel-bg)}.bristol-type-num{width:28px;height:28px;border-radius:50%;background:var(--border);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.85rem;flex-shrink:0}.bristol-btn.selected .bristol-type-num{background:var(--bowel-color);color:#fff}.bristol-desc{font-size:.85rem;line-height:1.3}.bristol-desc-label{font-weight:600}.bristol-desc-detail{color:var(--text-secondary);font-size:.8rem}.number-input{width:100%;height:var(--button-height);padding:0 14px;border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--bg-input);font-size:1rem;color:var(--text);outline:none;transition:border-color .15s}.number-input:focus{border-color:var(--border-focus)}*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}html{-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,sans-serif;line-height:1.5;-webkit-font-smoothing:antialiased}button,input,select,textarea{font:inherit;color:inherit}button{cursor:pointer;border:none;background:none}:root{--bg: #f8fafc;--bg-card: #ffffff;--bg-modal: #ffffff;--bg-input: #f1f5f9;--text: #0f172a;--text-secondary: #64748b;--text-muted: #94a3b8;--border: #e2e8f0;--border-focus: #3b82f6;--shadow: 0 1px 3px rgba(0,0,0,.08), 0 1px 2px rgba(0,0,0,.06);--shadow-lg: 0 4px 12px rgba(0,0,0,.1), 0 2px 4px rgba(0,0,0,.06);--meal-color: #3b82f6;--meal-bg: #eff6ff;--pain-color: #ef4444;--pain-bg: #fef2f2;--bowel-color: #f59e0b;--bowel-bg: #fffbeb;--summary-color: #8b5cf6;--summary-bg: #f5f3ff;--good: #22c55e;--good-bg: #f0fdf4;--caution: #f59e0b;--caution-bg: #fffbeb;--concern: #ef4444;--concern-bg: #fef2f2;--header-height: 56px;--tabbar-height: 56px;--min-touch: 44px;--button-height: 48px;--radius: 12px;--radius-sm: 8px;--sat: env(safe-area-inset-top, 0px);--sab: env(safe-area-inset-bottom, 0px)}[data-theme=dark]{--bg: #0f172a;--bg-card: #1e293b;--bg-modal: #1e293b;--bg-input: #334155;--text: #f1f5f9;--text-secondary: #94a3b8;--text-muted: #64748b;--border: #334155;--border-focus: #60a5fa;--shadow: 0 1px 3px rgba(0,0,0,.3);--shadow-lg: 0 4px 12px rgba(0,0,0,.4);--meal-bg: #1e3a5f;--pain-bg: #3f1c1c;--bowel-bg: #3f2f0a;--summary-bg: #2d1f5e;--good-bg: #14332a;--caution-bg: #3f2f0a;--concern-bg: #3f1c1c}#root{min-height:100dvh;background:var(--bg);color:var(--text);display:flex;flex-direction:column}.app{display:flex;flex-direction:column;min-height:100dvh}.app-content{flex:1;padding:12px 16px;padding-top:calc(var(--header-height) + var(--sat) + 12px);padding-bottom:calc(var(--tabbar-height) + var(--sab) + 80px);overflow-y:auto}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}::-webkit-scrollbar{width:4px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:var(--border);border-radius:2px}
